var LogmaticBuilder=function(n){function e(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t={};return e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:o})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=9)}([function(n,e){var t=function(n,e){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},o=function(n,e,t,o){var r=function(n,e){var t=[],o=[];return null==e&&(e=function(n,e){return t[0]===e?"[Object Parent]":"[Object Parent] "+o.slice(0,t.indexOf(e)).join(".")}),function(r,i){if(t.length>0){var a=t.indexOf(this);~a?t.splice(a+1):t.push(this),~a?o.splice(a,1/0,r):o.push(r),~t.indexOf(i)&&(i=e.call(this,r,i))}else t.push(i);return null==n?i:n.call(this,r,i)}};return JSON.stringify(n,r(e,o),t)};n.exports={assign:t,stringify:o}},function(n,e,t){n.exports={consoleHandler:t(5),errorHandler:t(6)}},function(n,e,t){n.exports={urlTracker:t(7)}},function(n,e,t){var o=t(0),r=function(n,e){var t={};if(!n||!n.queue||!n.post)throw"Logger initialization failed, client not valid";var r=n,i=e||{},a=[];return t.addHook=function(n,e){a.push({callback:n,props:e||{}})},t.addField=function(n,e){i[n]=e},t.removeField=function(n){if(i.indexOf(n)!==-1)return i.splice(i.indexOf(n),1)},t.log=function(n,e){var t={};t.message=n,t.level="info",t=o.assign(i,t),t=o.assign(e,t),a.forEach(function(n){t=n.callback(t,n.props)}),r.queue(t)},["trace","debug","info","warn","error"].forEach(function(n){t[n]=function(e,o){o=o||{},o.level=n,t.log(e,o)}}),t.setClient=function(n){r=n},t.flush=function(){r.post()},t};n.exports=r},function(n,e,t){var o=t(8),r=t(0),i=function(n){function e(){g.isScheduled()||g.postpone(v)}const t=n.endpoint||null,i=n.client.bulkLingerMs||100,a=n.client.bulkMaxPostCount||10,c=n.client.bulkMaxWaitingCount||-1,u=n.client.maxContentSize||204800,l=n.client.IPTracking||!0,f=n.client.UATracking||!0,s=n.client.ipTrackingAttributeName||"network.client_ip",d=n.client.uaTrackingAttributeName||"http.useragent";var p=[],g=o(i),h=function(n){var t=r.stringify(n);if(t.length>u){var o={level:"error",message:"Message dropped as its size exceeded the hard limit of "+u+" kBytes","http.href":window.location.href,original_event:t.substring(0,100).replace(/"/g,"")+" ..."};t=r.stringify(o)}p.push(t),c>=0&&p.length>c&&p.shift(),e()},v=function(){function n(n){200===n||0===n?p.length>0?g.setMode(g.MODE.IMMEDIATE):g.setMode(g.MODE.LINGER):g.setMode(g.MODE.ERROR),g.reset(),0!==p.length&&e()}for(var o=[],r=0;p.length>0&&o.length<a;){var i=p.shift();if(r+=i.length,r>u){p.unshift(i);break}o.push(i)}var c,h="["+o.join(",")+"]";c="undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest,c.open("POST",t,!0),"undefined"==typeof XDomainRequest&&(c.setRequestHeader("Content-Type","application/json; charset=UTF-8"),l&&c.setRequestHeader("X-Logmatic-Add-IP",s),f&&c.setRequestHeader("X-Logmatic-Add-UserAgent",d)),c.onerror=function(e){n(e.target.status)},c.onload=function(e){n(e.target.status)},c.send(h)};return{queue:h,post:v}};n.exports=i},function(n,e,t){var o=t(0);n.exports=function(n,e){if(console){var t=e.levelAttributeName||"level",r={};[{f:"log",l:"info"},{f:"info"},{f:"trace"},{f:"warn"},{f:"error"}].forEach(function(e){var i=e.f,a=e.l||e.f,c=console[i];console[i]=function(){var e=Array.prototype.slice.call(arguments).map(function(n){return"object"==typeof n?o.stringify(n):String(n)}).join(" ");r[t]=a,n.log(e,r),c.apply?c.apply(console,arguments):c(e)}})}}},function(n,e){n.exports=function(n,e){var t=e.errorAttributeName||"error",o=e.levelAttributeName||"level",r=window.onerror;window.onerror=function(e,i,a,c){var u={};u[t]={mode:"JSException",url:i,line:a,column:c,name:e},u[o]="error",n.log(e,u),r&&"function"==typeof r&&r.apply(window,arguments)}}},function(n,e){n.exports=function(n,e){if("object"!=typeof n||null==window||null==window.location)return n;var t=e.urlTrackingAttributeName||null,o=e.hostTrackingAttributeName||"http.host",r=e.requestTrackingAttributeName||"http.request";return t&&(n[t]=window.location.href),n[r]=window.location.href.replace(window.location.origin,""),n[o]=window.location.hostname,n}},function(n,e){var t=function(n){var e={};e.IMMEDIATE=0,e.IMMEDIATE=1,e.IMMEDIATE=2;const t=500,o=3e4;var r=null,i=e.LINGER,a=0,c=n,u=function(){l()&&clearTimeout(r),r=null},l=function(){return null!==r},f=function(n){i=n,i!==e.ERROR&&(a=0)},s=function(n){var l=0;switch(u(),i){case e.IMMEDIATE:l=0;break;case e.LINGER:l=c;break;case e.ERROR:var f=t*Math.pow(2,a);a++,l=Math.min(f,o)}r=setTimeout(n,l)};return{MODE:e,setMode:f,reset:u,postpone:s,isScheduled:l}};n.exports=t},function(n,e,t){var o=t(3),r=t(1),i=t(2),a=t(4),c=t(0),u=function(n){var e={};e.config={url:"https://api.logmatic.io/v1/input/",token:null,consoleHandler:!0,errorHandler:!0,context:{appname:null,"@marker":["logmatic-js","front","sourcecode"]},client:{IPTracking:!0,UATracking:!0}},e.init=function(n){return e.config.token=n,e},e.withName=function(n){return e.addField("appname",n),e},e.addField=function(n,t){return e.config.context[n]=t,e},e.disableConsole=function(){return e.config.consoleHandler=!1,e},e.disableErrorHandler=function(){return e.config.errorHandler=!1,e},e.disableIPTracking=function(){return e.config.client.IPTracking=!1,e},e.disableUATracking=function(){return e.config.client.UATracking=!1,e},e.setCustomConfiguration=function(n){return e.config=c.assign(n,e.config),e},null===e.config.context.appname&&e.addField("appname",window.location.hostname),e.config.endpoint=e.config.url+e.config.token;var t=a(e.config),u=o(t,e.config.context);return e.config.consoleHandler&&r.consoleHandler(u,{}),e.config.errorHandler&&r.errorHandler(u,{}),u.addHook(i.urlTracker,{}),u.log("Navigated to "+window.location.href),u};u.Hooks=i,n.exports=u}]);